<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Barrio Crudo</title>
  <style>
    /* Reset básico */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #0d0d0d;
      color: #e0f7fa;
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      background: linear-gradient(90deg, #011627, #023e8a, #0077b6);
      padding: 2rem 1rem;
      text-align: center;
      color: #00f5ff;
      text-shadow: 0 0 8px #00f5ff;
    }

    nav {
      background-color: #001f3f;
      display: flex;
      justify-content: center;
      gap: 2rem;
      padding: 1rem 0;
      box-shadow: 0 0 15px #0077b6;
    }

    nav a {
      color: #00e5ff;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.1rem;
      transition: color 0.3s ease;
      text-shadow: 0 0 6px #00e5ff;
    }

    nav a:hover {
      color: #00fff7;
      text-shadow: 0 0 12px #00fff7;
    }

    section {
      padding: 2rem 1rem;
      max-width: 1100px;
      margin: 0 auto;
      flex-grow: 1;
    }

    h2 {
      color: #00bcd4;
      border-bottom: 2px solid #00bcd4;
      padding-bottom: 0.4rem;
      margin-bottom: 1.5rem;
      text-shadow: 0 0 6px #00bcd4;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
    }

    .product {
      background-color: #012a4a;
      border-radius: 12px;
      padding: 1rem;
      text-align: center;
      box-shadow: 0 0 10px #00bcd4cc;
      color: #caf0f8;
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .product:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #00bcd4ff;
    }

    .product img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      margin-bottom: 0.8rem;
      box-shadow: 0 0 8px #00bcd4cc;
    }

    label {
      display: block;
      margin: 0.5rem 0 0.2rem 0;
      font-weight: 600;
      color: #80deea;
      text-shadow: 0 0 5px #80deea88;
      text-align: left;
    }

    select, input[type="file"], input[type="text"], input[type="email"], textarea {
      width: 100%;
      padding: 0.5rem;
      border-radius: 8px;
      border: none;
      background-color: #023e8a;
      color: #caf0f8;
      box-shadow: inset 0 0 5px #00bcd4cc;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      resize: vertical;
    }

    select:hover, input[type="file"]:hover, input[type="text"]:hover, input[type="email"]:hover, textarea:hover {
      background-color: #0353a4;
    }

    button {
      margin-top: 1rem;
      background: #00bcd4;
      border: none;
      color: #012a4a;
      font-weight: 700;
      padding: 0.7rem 1.4rem;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 0 0 10px #00bcd4cc;
      transition: background-color 0.3s ease, color 0.3s ease;
      font-size: 1rem;
      text-shadow: 0 0 3px #012a4a;
    }

    button:hover {
      background: #0097a7;
      color: #e0f7fa;
      box-shadow: 0 0 15px #0097a7cc;
    }

    #cart-list li {
      background-color: #01497c;
      margin-bottom: 0.5rem;
      padding: 0.5rem;
      border-radius: 8px;
      color: #d0f0fd;
      box-shadow: 0 0 8px #00bcd4aa;
      list-style: none;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    #cart-list li img {
      max-width: 60px;
      max-height: 60px;
      border-radius: 6px;
      box-shadow: 0 0 10px #00bcd4cc;
      margin-left: 1rem;
    }

    #total {
      font-weight: 700;
      color: #00bcd4;
      text-shadow: 0 0 6px #00bcd4cc;
    }

    #checkout-btn {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.8rem 2rem;
      background-color: #0077b6;
      color: #caf0f8;
      font-weight: 700;
      border-radius: 15px;
      text-decoration: none;
      box-shadow: 0 0 15px #00bcd4cc;
      transition: background-color 0.3s ease;
    }
    #checkout-btn:hover {
      background-color: #004e89;
      box-shadow: 0 0 20px #00bcd4ff;
    }

    .whatsapp-button {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.8rem 2rem;
      background: #25d366;
      color: #000;
      font-weight: 700;
      border-radius: 12px;
      text-decoration: none;
      box-shadow: 0 0 15px #25d366aa;
      transition: background-color 0.3s ease;
    }
    .whatsapp-button:hover {
      background: #1ebe56;
      box-shadow: 0 0 20px #25d366ff;
    }

    footer {
      background-color: #001f3f;
      color: #80deea;
      text-align: center;
      padding: 1rem 0;
      font-size: 0.9rem;
      text-shadow: 0 0 6px #00bcd4aa;
      margin-top: auto;
    }

    /* Responsive para inputs */
    @media (max-width: 600px) {
      nav {
        flex-direction: column;
        gap: 1rem;
      }
      button, #checkout-btn, .whatsapp-button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Barrio Crudo</h1>
    <p>Diseña. Viste. Expresa. Estilo urbano personalizado a tu nivel.</p>
  </header>

  <nav>
    <a href="#tienda">Tienda</a>
    <a href="#galeria">Galería</a>
    <a href="#carrito">Carrito</a>
    <a href="#contacto">Contáctanos</a>
    <a href="#filosofia">Nuestra Filosofía</a>
  </nav>

  <!-- Sección Pedido Personalizado -->
  <section id="tienda">
    <h2>Personaliza tu producto</h2>
    <div class="product-grid">
      <div class="product">
        <h3>Selecciona tipo de prenda</h3>
        <select id="tipo-prenda" onchange="actualizarOpciones()">
          <option value="camiseta">Camiseta</option>
          <option value="hoodie">Hoodie</option>
          <option value="gorra">Gorra</option>
        </select>

        <div id="opciones-prenda"></div>

        <label for="diseño" style="margin-top:1rem; font-weight:700; color:#00bcd4; text-shadow: 0 0 5px #00bcd4cc;">Sube tu diseño</label>
        <input type="file" id="diseño" accept="image/*" />
        <small style="color:#00bcd4; display:block; margin-top:0.2rem; text-shadow: 0 0 3px #00bcd4cc;">
          * El diseño debe ser visible para el pedido
        </small>
        <button onclick="añadirProductoPersonalizado()">Añadir al carrito</button>
      </div>
    </div>
  </section>

  <!-- Sección Productos Populares con selección y botón -->
  <section id="galeria">
    <h2>Diseños Populares</h2>
    <div class="product-grid">

      <!-- Camiseta 1 -->
      <div class="product" data-nombre="Camiseta diseño 1" data-precio="45000">
        <img src="img/camiseta2.png" alt="Camiseta diseño 1" />
        <h3>Camiseta diseño 1</h3>

        <label>Color:
          <select class="color">
            <option>Negro</option>
            <option>Blanco</option>
            <option>Rojo</option>
            <option>Azul</option>
          </select>
        </label>
        <label>Talla:
          <select class="talla">
            <option>S</option>
            <option>M</option>
            <option>L</option>
            <option>XL</option>
          </select>
        </label>
        <button onclick="añadirProductoPopular(this)">Añadir al carrito</button>
      </div>

      <!-- Hoodie -->
      <div class="product" data-nombre="Hoodie urbano" data-precio="85000">
        <img src="img/hoodie1.png" alt="Hoodie urbano" />
        <h3>Hoodie urbano</h3>

        <label>Color:
          <select class="color">
            <option>Negro</option>
            <option>Blanco</option>
            <option>Rojo</option>
            <option>Azul</option>
          </select>
        </label>
        <label>Talla:
          <select class="talla">
            <option>S</option>
            <option>M</option>
            <option>L</option>
            <option>XL</option>
          </select>
        </label>
        <button onclick="añadirProductoPopular(this)">Añadir al carrito</button>
      </div>

      <!-- Gorra -->
      <div class="product" data-nombre="Gorra clásica" data-precio="35000">
        <img src="img/gorra1.png" alt="Gorra clásica" />
        <h3>Gorra clásica</h3>

        <label>Color:
          <select class="color">
            <option>Negro</option>
            <option>Gris</option>
            <option>Verde</option>
          </select>
        </label>
        <label>Talla:
          <select class="talla">
            <option>Estándar</option>
            <option>Ajustable</option>
          </select>
        </label>
        <button onclick="añadirProductoPopular(this)">Añadir al carrito</button>
      </div>

    </div>
  </section>

  <!-- Sección Carrito -->
  <section id="carrito">
    <h2>Tu carrito</h2>
    <ul id="cart-list"></ul>
    <p>Total: $<span id="total">0</span></p>

    <!-- Formulario para datos cliente -->
    <form id="datos-cliente" onsubmit="return false;" style="max-width: 450px; margin-top: 1rem;">
      <h3>Datos del cliente</h3>

      <label for="nombre">Nombre completo:</label>
      <input type="text" id="nombre" placeholder="Tu nombre completo" required />

      <label for="ciudad">Ciudad:</label>
      <input type="text" id="ciudad" placeholder="Tu ciudad" required />

      <label for="direccion">Dirección:</label>
      <textarea id="direccion" placeholder="Tu dirección" rows="2" required></textarea>

      <label for="correo">Correo electrónico:</label>
      <input type="email" id="correo" placeholder="Tu correo" required />

      <label for="whatsapp">WhatsApp (número con código país):</label>
      <input type="text" id="whatsapp" placeholder="+57 3XXXXXXXXX" required />

    </form>

    <a id="checkout-btn" class="whatsapp-button" href="#" target="_blank" onclick="generarMensajeWhatsApp(event)">Enviar pedido por WhatsApp</a>
  </section>

  <footer>
    <p>&copy; 2025 Ink Streetwear. Todos los derechos reservados.</p>
  </footer>

  <script>
    let cart = [];

    function actualizarOpciones() {
      const tipo = document.getElementById("tipo-prenda").value;
      const opciones = document.getElementById("opciones-prenda");
      let html = "";

      if (tipo === "camiseta" || tipo === "hoodie") {
        html += `<label>Color:
          <select id="color">
            <option>Negro</option>
            <option>Blanco</option>
            <option>Rojo</option>
            <option>Azul</option>
          </select>
        </label>`;
        html += `<label>Talla:
          <select id="talla">
            <option>S</option>
            <option>M</option>
            <option>L</option>
            <option>XL</option>
          </select>
        </label>`;
      } else if (tipo === "gorra") {
        html += `<label>Color:
          <select id="color">
            <option>Negro</option>
            <option>Gris</option>
            <option>Verde</option>
          </select>
        </label>`;
        html += `<label>Talla:
          <select id="talla">
            <option>Estándar</option>
            <option>Ajustable</option>
          </select>
        </label>`;
      }
      opciones.innerHTML = html;
    }

    function añadirProductoPersonalizado() {
      const tipo = document.getElementById("tipo-prenda").value;
      const color = document.getElementById("color")?.value || "-";
      const talla = document.getElementById("talla")?.value || "-";

      const diseñoInput = document.getElementById("diseño");
      let diseño = "No se subió diseño";
      let diseñoPreviewHTML = '';

      if (diseñoInput.files.length > 0) {
        const file = diseñoInput.files[0];
        diseño = file.name;

        const reader = new FileReader();
        reader.onload = function (e) {
          diseñoPreviewHTML = `<img src="${e.target.result}" alt="Diseño subido" style="max-width:80px; max-height:80px; border-radius:8px; box-shadow: 0 0 10px #00bcd4cc; margin-left: 10px;" />`;
          cart.push({ 
            item: `${tipo.toUpperCase()} - Color: ${color}, Talla: ${talla}, Diseño: ${diseño}`, 
            price: getPrecio(tipo),
            diseñoImgHTML: diseñoPreviewHTML
          });
          renderCart();
        };
        reader.readAsDataURL(file);
      } else {
        cart.push({ 
          item: `${tipo.toUpperCase()} - Color: ${color}, Talla: ${talla}, Diseño: ${diseño}`, 
          price: getPrecio(tipo),
          diseñoImgHTML: ''
        });
        renderCart();
      }

      diseñoInput.value = '';
      actualizarOpciones();
    }

    function añadirProductoPopular(button) {
      const productDiv = button.closest('.product');
      const nombre = productDiv.dataset.nombre;
      const precio = parseInt(productDiv.dataset.precio);
      const color = productDiv.querySelector('.color').value;
      const talla = productDiv.querySelector('.talla').value;

      cart.push({
        item: `${nombre} - Color: ${color}, Talla: ${talla}`,
        price: precio,
        diseñoImgHTML: ''
      });
      renderCart();
    }

    function getPrecio(tipo) {
      if (tipo === "camiseta") return 45000;
      if (tipo === "hoodie") return 85000;
      if (tipo === "gorra") return 35000;
      return 0;
    }

    function renderCart() {
      const list = document.getElementById("cart-list");
      const totalSpan = document.getElementById("total");
      list.innerHTML = "";

      let total = 0;
      cart.forEach((p) => {
        const li = document.createElement("li");

        li.innerHTML = `
          <span>${p.item} - $${p.price.toLocaleString()}</span>
          ${p.diseñoImgHTML}
        `;

        list.appendChild(li);
        total += p.price;
      });

      totalSpan.textContent = total.toLocaleString();
    }

    function generarMensajeWhatsApp(event) {
      event.preventDefault();

      if(cart.length === 0) {
        alert("El carrito está vacío, por favor añade productos antes de proceder.");
        return;
      }

      // Obtener datos cliente
      const nombre = document.getElementById("nombre").value.trim();
      const ciudad = document.getElementById("ciudad").value.trim();
      const direccion = document.getElementById("direccion").value.trim();
      const correo = document.getElementById("correo").value.trim();
      const whatsapp = document.getElementById("whatsapp").value.trim();

      // Validar datos
      if (!nombre || !ciudad || !direccion || !correo || !whatsapp) {
        alert("Por favor completa todos los datos del cliente.");
        return;
      }

      // Generar mensaje
      const total = cart.reduce((acc, p) => acc + p.price, 0);

      let mensaje = `Hola, quiero hacer un pedido en Barrio Crudo:%0A`;
      mensaje += `\nPedidos:%0A`;
      cart.forEach((p) => {
        mensaje += `• ${p.item} - $${p.price.toLocaleString()}%0A`;
      });
      mensaje += `%0ATotal: $${total.toLocaleString()}%0A`;
      mensaje += `%0ANombre: ${encodeURIComponent(nombre)}%0A`;
      mensaje += `Ciudad: ${encodeURIComponent(ciudad)}%0A`;
      mensaje += `Dirección: ${encodeURIComponent(direccion)}%0A`;
      mensaje += `Correo: ${encodeURIComponent(correo)}%0A`;
      mensaje += `WhatsApp: ${encodeURIComponent(whatsapp)}%0A`;

      const urlWhatsapp = `https://wa.me/573508326885?text=${mensaje}`;

      // Abrir WhatsApp con mensaje
      window.open(urlWhatsapp, "_blank");
    }

    window.onload = () => {
      actualizarOpciones();
      renderCart();
    };
  </script>
</body>
</html>
